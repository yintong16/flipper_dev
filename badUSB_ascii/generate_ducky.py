


def parse_picture(string):
    string.split("\n")
    return string.split("\n")

def choose_os(os):
    if os == "windows":
        return 'REM This is BadUSB demo script for windows\nREM Open windows notepad\nDELAY 1000\nGUI r\nDELAY 500\nSTRING notepad\nDELAY 500\nENTER\nDELAY 750\n'
    elif os == "mac":
        return 'ID 1234:5678 Apple:Keyboard\nREM You can change these values to VID/PID of original Apple keyboard\nREM to bypass Keyboard Setup Assistant\n\nREM This is BadUSB demo script for macOS\n\nREM Open terminal window\nDELAY 1000\nGUI SPACE\nDELAY 500\nSTRING terminal\nDELAY 500\nENTER\nDELAY 750\n\nREM Copy-Paste previous string\nUP\nCTRL c\n\nREM Bigger shell script example\nSTRING cat > /dev/null << EOF\nENTER\n'



def run(os, string, output_file):
    ducky = choose_os(os)
    ascii_str = parse_picture(string)
    for i in ascii_str:
        ducky += "STRING " + i + "\n"
        ducky += "ENTER\n"
        ducky += "DELAY 100\n"
    
    with open(output_file, "w") as f:
        f.write(ducky)

if __name__ ==  "__main__":
    os = "windows"
    string = """%%##***#%#*######*****#%%%%%%@%%@@%%%%####**%%%%%%%%%%%%#%%%%%%%%#*###%%%%%%%@%%%%#####%%%%%%%%@@@%%
%%%%%%%%%%%%%%%%%%%##%##%%%%%@@%%%%%%%%%%###%%####****##*#**%####***#%%@%%%@@@%##%%%%%%%%%%%%%%%%@%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###########################*#%%%%#*#*##%%%@@%%%%%#*#%#%%%#%%%%%%%%%%%%%
####%%%%%%%%%#####%%%%%%%%%%%#*******************####################*#%%%%#%@%##%%%%%%%%#%%%%%%%###
@@@@@@@@@@@@@%%%%%%%%%%%%%%%##*************###########%%%%%%%%@@%%%%%####*#####**###%%#%%%%%%%%%%###
@@@@@@@@@@@@@@@@@@@@@@@@@@@@%################%%%%%%%%%%%%%%%%%%%%%%%%%%%###***#######**%%%%%%%%%%###
@@@@@@@@@@@@@@@@@@@@@@@@@@%##***########%%%%%%%%%%%%%@@@%%%%%%%%%%%%%%%%%%%%##***###%%%%%%%%%%%%%##%
@@@@@@@@@@@@@@@@@@@@@%@%%#####*######%%%%%%@@@@@@@@@@@@@%%%%%%@@@@@@%@@@%%%%%###***+++*%%%%%%%%%%%%%
@@@@@@@@@@@@@@@@@@@@@@@%##########%%%%@@@%@@@@@@@@@@@@@@@@%@@@%%%%%%%%%%@@@@%%%%##%#*+*#%%%%%%%%##%%
@@@@%%@@@@@@@@@@@@@@@@@%########%%%%%%@@@%@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%#%%**##%%%%%%%%@%%
@@@@@%@%%@%%@@@@@@@@@@@%######%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%@@@@@%%%%%%%##%#####%@@%%%%%%
%%@@@%@@%%%%@@@@@@@@@%%%#####%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%@@%%%%%%%%@%###%%%%%%%%%%%%%%
%%%%@@@@@%%%@@@@@@@@@@@%%###%%%%%@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*+++++++****###
%%##%@@@@@%%@@@@@@@@@@%##%%%%%@@@@@@@@@@@@@@@@%%%%############***#####%%%%%%%%%%%%%%%#*+===++===++=+
%%#%@@@@@@@@@@@@@@@@@@%###%%@@@@@@%%%%%@%%%%%%###*******************###%%%%%%%%%%%%%%%#++===========
%%%%@@@@@@@@@@@@@@@@@%#*##%@@@@@%%%%%%%%###**************************###%%%@@%%%%%%%%%#*+*####****++
%%%@@@@@@@@@@@@@@@@%@%###%@@@@@@%%######*****************************###%%%@@@@%%%%%%%%#############
%%%%@@@@@@@@@@@@@@@@%%###%@@@@@%%##********++++++++++++++************###%%%@@@@@%%%%%%%%##%%@@@%%%%%
%%@%@@@@@@@@@@@@@%%%%%%#%@@@@@%%##********+++++++++++++++++++++*******###%%@@@@@@@%%%%%%##%%%%%%%%%%
%%%%%@@@%@@@@@@@@@%%%%##%@@@@@%#***********+++++++++++++++++++++******###%%%@@@@@@@@@@%%###%%%%%@@@%
#%%@%%%%%@@@%@@@@%%%%###@@@@@%#***##%%#####****++++++++++*************####%%@@@@@@@@@@%%###%%%%%@@%%
*#%%%%%%%##%%%@@@%%%%%#%@@@@@####%%%%%%%%%@%%##********###%%%%%%%%%%##*####%%@@@@@@@@@%%#*#%%%%%%%%%
%%%##%#%%@@@@@%@@@@@%%%%@@@@%########***####%%%##****##%%%%%%%%%%%%%%%######%%@@@@@@@@@%#***#**#####
#%%%%%%%%@@@@@@@@@@@@%%%%%%%%%%#####****####%####**#*########********########%@@@@@@@@@%%#######**##
%%%#%%%#%%%%%%@@%@@%%%%##*#%%%#*###%%%%%%%###%%##****##%%##***#####%%##*****#%@@@@@@@@@%%%%%%%#%####
%%#****#######%%%%%%%%%####%###*##%%%#%%%%%####%%#*#%%#**#%%%@@%%%####%%%%###%%@@@@@%%%%###########%
######%%%%##############**##*#****#############%****##***###%%%%#%%%###%##**#%%%%###%%#%%%%%%%%%%%##
#*#*********####**********##*#*+******###****##**++*#%****#######*****##*****#%%%######%%%%%%%%%%%%%
+=+++++++++++*+*****+*****#*****************##**++++*##*******************+++#%%%##***#%@%%%%%%%%%%%
==+++*+=+*+++==++*+++*****#***+++**************+++++***###*****+**++*#+++++++#%%%##***#%%%@@%%%%@@@@
==-==+===+++==-=--====+++*******+++++++*******+++++++**************+++++++++*######***##%%%%%%%%%%%@
-:---=------===+=--==+***********+++++++*****++++++++******+++++++++++++++++*##******##%#%%%%%%%%%%%
::--------=----==-==-====+*******++++++******#************++++++++++++****+**##******##############%
::-::-------------=--:-==+********++++*****##%####%%%###**++++++++++****************################
----------------:-------==-+********++*********#######****++++++++****************##################
:::---:----------==---=---=+*********+++**************+*++++++++*****************###################
-::::----------------=======*****************************+++++++************########################
::::---::---==---==--===-===+****************#**************++***************##########%%%%%%%######
------------==-----------=+==*********############%#######******************##########%####%%%######
:::::----:---::-=====+=======+************************####*****************###########%%%%%%%%######
-::----::------------=+===++**##*****************************************###################%%######
:::::-------:--==-=+++**==+*+=+*#***********#########******************##########%%#####%%##########
:::--=-::-----:::-------==-===+*##*#************************###########################%%##%%%%#####
::::::::::---::--=+++==--==+**+++*###********+++++***********################################%######
:::::::::::-------==----=++===++++*###********++++*********#######%%##**############################
::::::::::-:::::--==--=*+=-=*#++*++*###*******************####%%%%%##***############################
::::::--::--:::-----=++===+====+***++*####################%%%%%%%%###***############################
:::::::..::-::::--++=----==++=---===+*####%%%%%%%%%%%%%%%%%%%%%%###****+*###########################
:::::::-:::--:::--==-:-+*+=--==+***++*#####%%%%%%%@@%%%%%%%%%#####*****++*#%%#######################
:::::::-=-:::::--:::--=++=++==--=+++=+**######%%%%%%%%%%%########*******++*%%##########%%%##########
:::::::-=+=:::--:-----::-=+**+---+#%%##**######################********++++#%%######%%##############
:::::-=-:--::-::::--++*+=-=*#%%@@@@@#******#################*************++*%%%%%%%%%###############
:----------==+**######%%%%%@@@@@@%%#*********############****************++*%%%%%%%%%%@%%%##########
-=+*######%%%%%%%%%%%%@@%%@@@@%#*#%******************##**********+=++.====:::::#%%#-*%%*++++++######
%%%%%%%%%%%%%%%@@@@%%%%%%%@@%%#***#******************+-.:.:.:+****-:=.=+*#*==-#%%*==-=*-+#*##.#%%%##
%%%%%%%%%%@%#*#%%%%%***%%%@%*++***##+=+*****+=+*****::+*=.+*+:-+*++-=::--*%%*-#%%%%%=-%-+#-*#.*%%%%%
%%%%%%%%%#-:*#=:*%*:+#+.+%+.++-.=+-.=+-.=*=.-+=.=*+:-**+:-+++=.=*#%%#::--***-+:+%%%=-#%-+#-##.*%%%%%
%%%%%%%%%+.#%%%+-%#::+*%%%*::==+++*+=-:.:+=::-=+**+.=**-:+++++:+#%#-=*+=@#-#-#%%%=::-:*-+*:##.#%%%%%
%%%%%%%%%+.#%%%=-%%%%%*:=%%%%%*.-+::+#+.:+++++=.:++:-+=.=*###-:%@@=+*-::-=:#-*#%%%%=+%%%%:.=%%%%%%%%
%%%%%%%%%%=:=+-:#%*:=+=:*%+:=+=:*%=.:--.:+-.:-:.-++=-:-*%*=-:+%@@#-#%*-=-=---#%%%%%=+%%*:++=%%=%%%%%
%%%%%%%%%%%%%%%%@@@%%%%%%%%%%%%@@@@%%%%@%%###**####%%%@@@%%%@@@@@%%%=+%@#+%%*:.=%%%=+%-*%%#:..*%%%%%
%%%%%%%%%%%@@@@@@@@@@@@@%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%@"""
    print(string)
    output_file = "badUSB_script.txt"
    run(os, string, output_file)